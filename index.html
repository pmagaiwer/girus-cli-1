#!/bin/bash
set -e
# ASCII Art Banner para o Girus
cat << "EOF" â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
    â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â•šâ•â•â•â•â•â• â•šâ•â•â•šâ•â• â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â• EOF echo
    -e "\nScript de InstalaÃ§Ã£o - VersÃ£o 0.1.0\n" # Verificar se o terminal Ã© interativo IS_INTERACTIVE=0 if [ -t 0 ];
    then IS_INTERACTIVE=1 fi # FunÃ§Ã£o para pedir confirmaÃ§Ã£o ao usuÃ¡rio (interativo) ou mostrar aÃ§Ã£o padrÃ£o
    (nÃ£o-interativo) ask_user() { local prompt="$1" local default="$2" local variable_name="$3" if [ $IS_INTERACTIVE -eq
    1 ]; then # Modo interativo - perguntar ao usuÃ¡rio read -p "$prompt" response # Se resposta for vazia, usar o padrÃ£o
    response=${response:-$default} else # Modo nÃ£o-interativo - usar valor padrÃ£o response="$default"
    echo "ðŸ”„ Modo automÃ¡tico: $prompt (usando resposta padrÃ£o: $default)" fi # Exportar a resposta para a variÃ¡vel
    solicitada eval "$variable_name=\" $response\"" } # Verificar se o script estÃ¡ sendo executado como root (sudo) if
    [ "$(id -u)" -eq 0 ]; then echo "âŒ ERRO: Este script nÃ£o deve ser executado como root ou com sudo."
    echo "   Por favor, execute sem sudo. O script solicitarÃ¡ elevaÃ§Ã£o quando necessÃ¡rio." exit 1 fi # ConfiguraÃ§Ã£o de
    variÃ¡veis e ambiente set -e # Detectar o sistema operacional case "$(uname -s)" in Linux*) OS="linux" ;; Darwin*)
    OS="darwin" ;; CYGWIN*|MINGW*|MSYS*) OS="windows" ;; *) OS="unknown" ;; esac # Detectar a arquitetura
    ARCH_RAW=$(uname -m) case "$ARCH_RAW" in x86_64) ARCH="amd64" ;; amd64) ARCH="amd64" ;; arm64) ARCH="arm64" ;;
    aarch64) ARCH="arm64" ;; *) ARCH="unknown" ;; esac echo "Sistema operacional detectado: $OS"
    echo "Arquitetura detectada: $ARCH" # Verificar se o sistema operacional Ã© suportado if [ "$OS"=="unknown" ]; then
    echo "âŒ Sistema operacional nÃ£o suportado: $(uname -s)" exit 1 fi # Verificar se a arquitetura Ã© suportada if
    [ "$ARCH"=="unknown" ]; then echo "âŒ Arquitetura nÃ£o suportada: $ARCH_RAW" exit 1 fi # ConfiguraÃ§Ãµes e variÃ¡veis
    GIRUS_VERSION="v0.1.0"
    BINARY_URL="https://github.com/badtuxx/girus-cli/releases/download/$GIRUS_VERSION/girus-$OS-$ARCH"
    ORIGINAL_DIR=$(pwd) TEMP_DIR=$(mktemp -d) trap 'rm -rf "$TEMP_DIR"' EXIT # FunÃ§Ã£o para verificar se o comando curl
    ou wget estÃ¡ disponÃ­vel check_download_tool() { if command -v curl &> /dev/null; then
    echo "curl"
    elif command -v wget &> /dev/null; then
    echo "wget"
    else
    echo "none"
    fi
    }